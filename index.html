<!DOCTYPE html>
<html>
   <head>
      <meta http-equiv="content-type" content="text/html; charset=UTF-8">
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
      <script src="jquery.js"></script>
      <link rel="stylesheet" href="style.css">
      <script>
         var projectListCounter = 0;
         var projectClickCounter = 0;
         const projects = [
            "project title a",
            "project title b",
            "project title c",
            "project title d",
            "project title e",
            "project title f"
         ];
            function projectList(){
            while (projectListCounter != projects.length){
               document.currentScript.insertAdjacentHTML("beforeBegin","<section id='project"+projectListCounter+"' class='projectz' onclick='projectModal(this.id)'>"+projects[projectListCounter]+"</section>");
               projectListCounter++;
            }
         }
            function projectModal(clicked_id){
               var projectId = document.getElementById(clicked_id).innerHTML;
               while (projectId != projects[projectClickCounter]){
                  projectClickCounter++;
                  if (projectClickCounter >= projects.length) {
                     projectClickCounter = 0;
                  }
               }

               document.getElementById('modal-content').innerHTML = "<div class='modal-title'>"+projects[projectClickCounter]+"</div><button class='modal-item'>description<span class='modal-down'>+</span></button><div class='panel'><p>content</p></div><button class='modal-item'>tracklist<span class='modal-down'>+</span></button><div class='panel'><p>1. track 1<br>2. track 2<br>3. track 3</p></div><button class='modal-item'>cover art<span class='modal-down'>+</span></button><div class='panel'><div class='cover'><button type='button' class='btn btn left'>&#10094;</button><img src='https://alfalfastudio.s3.amazonaws.com/wp-content/uploads/2015/10/02230113/Operation_Doomsday_crop-1.jpg' class='img' /><button  type='button' class='btn right'>&#10095;</button></div><p class='cover-text'>text</p></div><button class='modal-item'>videos<span class='modal-down'>+</span></button><div class='panel'><p>content</p></div><button class='modal-item'>notes<span class='modal-down'>+</span></button><div class='panel'><p>content</p></div><button class='modal-item'>listen<span class='modal-down'>+</span></button><div class='panel listen'><img class='spotify' src='listenicons/spotify.png'><img class='apple' src='listenicons/apple.png'><img class='cd' src='listenicons/cd.png'><img class='vinyl' src='listenicons/vinyl.png'><img class='soundcloud' src='listenicons/soundcloud.png'><img class='youtube' src='listenicons/youtube.png'><img class='deezer' src='listenicons/deezer.png'></div>";
               var acc = document.getElementsByClassName("modal-item");
                     var allplus = null;
                    var plus = null;
         for (i = 0; i < acc.length; i++) {
           acc[i].addEventListener("click", function() {

for (let j = 0; j < acc.length; j++) {
      if(j!=i){     
             acc[j].classList.remove("active");
        acc[j].nextElementSibling.style.maxHeight = null;
      allplus = acc[j].querySelector('.modal-down');
      allplus.innerHTML = "+";
      }
    }
             this.classList.toggle("active");
             var panel = this.nextElementSibling;
            plus = this.querySelector('.modal-down');

             if (panel.style.maxHeight) {
               plus.innerHTML = "+";
               panel.style.maxHeight = null;
             } else {
               plus.innerHTML = "-";
               panel.style.maxHeight = panel.scrollHeight + "px";
             } 
           });
         }
            }
      </script>
   </head>
   <body>
      <a href="https://docs.google.com/spreadsheets/d/1n1T9ncenNKIsB9xkeCFpeitjbE5dN0jr8-fmo8uLWXU/edit#gid=0"><img class="doomimg" src="mask.webp"></a>
      <div class="topnav">
  <a id="projects">projects</a>
  <a id="songs">songs</a>
  <a id="interviews">interviews</a>
  <a >extras</a>
  <a href="https://docs.google.com/forms/d/e/1FAIpQLScQqvx082NuK_04MmuGWgDLWsTXBgDyL4RQBWtveKLAE3wHEA/viewform" target="_blank">feedback</a>
  <input style="float: right;" type="search" id="search" placeholder="search..." tabindex="-1" autofocus="autofocus">
</div>
<div class="logo" id="logo"><!--add in update modal onclick-->
   <img src="https://3dpk.co.uk/doom/Images/doomtranny.png">
</div>
      <div class="menu" id="projectlist">
         <script>projectList();</script>
      </div>
      <div class='modal-background'>
         <div class='modal-content' id='modal-content'></div>
      </div>
     <!-- <div class="version">v. 0.4</div>-->
   </body>
</html>
